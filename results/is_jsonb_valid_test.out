CREATE EXTENSION is_jsonb_valid;
SELECT is_jsonb_valid('{}', '{}');
 is_jsonb_valid 
----------------
 t
(1 row)

SELECT is_jsonb_valid('{"type": "object"}', '{}');
INFO:  Type is correct
 is_jsonb_valid 
----------------
 t
(1 row)

SELECT is_jsonb_valid('{"type": "object"}', '2');
INFO:  Type is not correct
 is_jsonb_valid 
----------------
 t
(1 row)

SELECT is_jsonb_valid('{"type": "object"}', '{"a": 1}');
INFO:  Type is correct
 is_jsonb_valid 
----------------
 t
(1 row)

SELECT is_jsonb_valid('{"type": "number"}', '2');
INFO:  Type is correct
 is_jsonb_valid 
----------------
 t
(1 row)

SELECT is_jsonb_valid('{"type": "integer"}', '2');
INFO:  Type is correct
 is_jsonb_valid 
----------------
 t
(1 row)

SELECT is_jsonb_valid('{"type": "integer"}', '2.5');
INFO:  Type is not correct
 is_jsonb_valid 
----------------
 t
(1 row)

SELECT is_jsonb_valid('{"type": 1}', '2');
ERROR:  Type must be string
